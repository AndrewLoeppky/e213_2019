\documentclass{article}

\usepackage{pgfplots}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows}
\usepackage[margin=0.5in]{geometry}
\usepackage{multicol}
%%%<
\definecolor{dark-green}{rgb}{0.0, 0.5, 0.0}
\usepackage{verbatim}
%\usepackage[active,tightpage]{preview}
%%\PreviewEnvironment{tikzpicture}
%\setlength\PreviewBorder{5pt}%
%%%>



\begin{document}
\pagestyle{empty}

\large{EOSC 213 Quiz 4} \hspace{10cm} \large{March 28$^{\textrm{th}}$, 2019}

\large{Name:} \hspace{12cm} \large{ID: }
\begin{center}
\Huge{EOSC 213 - Quiz}
\end{center}

\rule{\textwidth}{1pt}

\large{\textbf{Instructions (x points in total)}}
\begin{multicols}{2}
\begin{itemize}
\item Read the examination before beginning.
\item Calculators are allowed (if you don't have one, just give the expression to type in a calculator).
\item You have exactly 45 minutes for the examination.
\item Be as precise and clear as possible.
\item This is a closed book examination.
\item If you get stuck, make an assumption, state what it is and try to carry on.
\end{itemize} 
\end{multicols}



\rule{\textwidth}{1pt}

\textbf{Question 0: English is a funny language test}

\begin{description}
\item [Q0] Complete the sentence with your favourite word. \textit{If vegetarians consume vegetables, then humanitarians consume .....}  \textbf{[1 point]}
\vspace{0.5cm}

\end{description}

\textbf{Question 1: Taylor's approximation}

Let us consider the exponential function described in equation \ref{eq:exp}

\begin{equation}
f(x) = \mathrm{exp}(x). \label{eq:exp}
\end{equation} We are going to try to compute its derivative at $x = 0$ using backward, forward and centered differences. You can use a \textbf{calculator} to compute the values of $f(x)$.


\begin{description}
\item [Q1a] Compute the derivative of the exponential function at $x = 0$ ($f'(0)$) with a \textbf{first order} approximation \textbf{and} assess your error.  \textbf{[2 points]}
\vspace{3cm}
\item [Q1b] Compute the derivative of the exponential function at $x = 0$ ($f'(0)$) with a \textbf{second order} approximation \textbf{and} assess your error.  \textbf{[2 points]}
\vspace{3cm}

\end{description}

The Taylor series of the exponential function is:
\begin{equation}
\begin{array}{lll}
f(x) & = & 1 + x + \frac{x^2}{2!} + ... + \frac{x^n}{n!} + ... \\ 
 & = & \displaystyle{\sum_{n=0}^{\infty}\frac{x^n}{n!}}
 \end{array}
\label{eq:expTay}
\end{equation} 

\begin{description}
\item [Q1c] Write the second order approximation of the exponential function and write the truncation error. \textbf{[2 points]}
\vspace{3cm}
\end{description}



\textbf{Question 2: Diffusion}

The 1D transient diffusion equation with homogeneous diffusion coefficient can be written as:
\begin{equation}
\frac{\partial c}{\partial t} = D \frac{\partial^2 c}{\partial x^2}. \label{eq:diff}
\end{equation} Let us consider the physical domain $ x \in \left[ -1 ; 1 \right] \mathrm{m}$, with the specified boundary conditions $x(1) = x(-1) = 0$. Consider the following function:
\begin{equation}
c(x,t) = c_0 \mathrm{cos}\left(\frac{\pi x}{2} \right) \mathrm{exp}\left(-\alpha t \right)  \label{eq:sol}
\end{equation}



\begin{description}
\item [Q2a] \textbf{Prove} that the function described in equation \ref{eq:sol} solves the diffusion problem described by equation \ref{eq:diff} \textbf{[2 points]}
\vspace{2cm}

\item [Q2b] Can you identify the value of $\alpha$ \textbf{[2 points]}
\vspace{2cm}

\item [Q2c] Show that the function described in equation \ref{eq:sol} satisfies the boundary conditions at all times \textbf{[2 points]}
\vspace{2cm}

\item [Q2d] Concentrations were measured at four different times and are represented in the graph below. The messy person who did the measurements does not remember at which time these measurements were taken. Can you help him, using your physical intuition? Give the temporal sequence of the 4 curves.  \textbf{[2 points]}
\end{description}


\begin{tikzpicture}
\begin{axis}[width = 8cm, xmin=-1,xmax = 1, ymin = 0, ymax = 1, height = 6cm, grid = both, xlabel = {x-axis}, ylabel = {$c$}, legend pos = outer north east]
\addplot[red, mark = o, mark size = 2 pt, line width = 0.1pt] table [x=x, y=c1]{diff.txt}; \addlegendentry{(b)}
\addplot[black, mark = square, mark size = 2pt, line width = 0.1 pt] table [x=x, y=c3]{diff.txt}; \addlegendentry{(a)}
\addplot[dark-green, mark = triangle, mark size = 2 pt, line width = 0.1pt] table [x=x, y=c2]{diff.txt}; \addlegendentry{(c)}
\addplot[blue, mark = diamond, mark size = 2pt] table [x=x, y=c4]{diff.txt}; \addlegendentry{(d)}
\end{axis}
\end{tikzpicture}

\begin{description}
\item [Q2e] What can you say about the mass evolution in the system? Is that consistent with the boundary conditions? \textbf{[2 points]}
\vspace{2cm}

\item [Q2f] Use your physical reasoning (and equation \ref{eq:sol}) to describe the asymptotic/final solution. \textbf{[2 points]}
\vspace{2cm}

\end{description}

\textbf{Question 3: Conservation equation}
The continuity equation says:
\begin{equation}
\frac{\partial \, \mathrm{Stuff}}{\partial t} = - \overrightarrow{\nabla }\overrightarrow{j},
\end{equation} or, in cartesian coordinates
\begin{equation}
\frac{\partial \, \mathrm{Stuff}}{\partial t} = - \frac{\partial j_x}{\partial x} - \frac{\partial j_y}{\partial y} - \frac{\partial j_z}{\partial z}.
\end{equation} $ \overrightarrow{j} $ is a flux vector that describes the rate at which "stuff", the conserved quantity, fluxes (moves).


\begin{description}
\item [Q3a] Provide two examples of what "Stuff", the \textbf{conserved quantity}, could represent. \textbf{[2 points]}
\vspace{2cm}

\item [Q3b] Write the PDE conservation law (either in nabla notation or in cartesian coordinates) for the case of the diffusion of a solute (not in a porous media) where the flux is given by Fick's law $ \overrightarrow{j_{\mathrm{diff}}} = - D \overrightarrow{\nabla} c$ \textbf{[3 points]}
\vspace{2cm}


\item [Q3c] What is the physical meaning of the term $\frac{\partial \, \mathrm{Stuff}}{\partial t}$ in the case of a diffusing solute. Provide a one or two sentence(s) explanation. \textbf{[2 points]}
\vspace{2cm}

\item [Q3d] Write the PDE conservation law (either in nabla notation or in cartesian coordinates) for the case where the flux is given by advection $ \overrightarrow{j_{\mathrm{adv}}} = \overrightarrow{v} c$ \textbf{[3 points]}
\vspace{2cm}

\end{description}

\textbf{Question 4: Conservation equation (2)}

Consider the fluid velocity $ \overrightarrow{v} = \left(v_x,v_y,v_z   \right)$ $\left[\frac{L}{T}\right]$ and the density $\rho$ $\left[\frac{M}{L^3}\right]$, and the following equations:
\begin{equation}
\frac{\partial \rho}{\partial t} = - \frac{\partial \rho v_x}{\partial x} - \frac{\partial \rho v_y}{\partial y} - \frac{\rho \partial v_z}{\partial z}.
\end{equation}



\begin{description}
\item [Q4a] Is the previous equation dimensionnally homogeneous? Show why or why not. \textbf{[2 points]}
\vspace{2cm}
\item [Q4b] What is the expression for the flux in the $x$, $y$ and $z$ direction, \textit{i.e.}, what are $j_x$, $j_y$ and $j_z$? \textbf{[3 points]}
\vspace{2cm}
\item [Q4c] Write in words the meaning of the time derivative term $\frac{\partial \rho}{\partial t}$ \textbf{[2 points]}
\vspace{2cm}
\item [Q4d] Simplify this equation for the case where the fluid is incompressible. Mathematically, that is where the fluid density $\rho$ does not vary in space or change in time. \textbf{[3 points]}
\vspace{2cm}
\end{description}




\newpage
\textbf{Question 5: Python}


This is a question about the following code:

%\hline 
\rule{15cm}{0.75pt}


\begin{verbatim}
class Problem_Def:
    """
    this class holds the specifcation for the domain,
    including the value of the porosity
    """

    def __init__(self, nx, ny, poro, wx, wy):
        self.nx = nx
        self.ny = ny
        self.poro = poro
        self.wx = wx
        self.wy = wy


def get_spacing(nx=4, ny=3, poro=0.4, wx=10, wy=20):
    the_prob = Problem_Def(nx, ny, poro, wx, wy)
    delx = the_prob.wx / the_prob.nx
    dely = the_prob.wy / the_prob.ny
    return delx, dely
\end{verbatim}

%\hline 
\rule{15cm}{0.75pt}

\begin{description}

\item[Q9] Given the code above, what does the following python statement print?
  \textbf{[2 points]}
  
\verb+print(f"{get_spacing(nx=6)}")+

\vspace{1.5cm}
  
\end{description}


\begin{description}  

  
\item[Q10] modify the \verb+Problem_Def+ class to
  incorporate \verb+get_spacing+ as an instance method \textbf{[2 points]}

  That is, create a version of \verb+Problem_Def+ for which the following will work::

\begin{verbatim}

     the_instance = Problem_Def()
     delx, dely = the_instance.get_spacing()

\end{verbatim}

where the new constructor has the signature::

\begin{verbatim}
      def __init__(self,nx=4,ny=3,poro=0.4,wx=10,wy=20):
         ...
\end{verbatim}

  
\end{description}  




\end{document}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
